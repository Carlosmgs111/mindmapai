---
import SidebarItem from "./SidebarItem.astro";
import { sc } from "@/shared/utils/sc";

const currentPath = Astro.url.pathname;

const knowledgeItems = [
  {
    href: "/knowledge/generator",
    label: "Generar nuevo conocimiento",
    classIcon: "bx bxs-layers-down-right",
    isActive: currentPath.includes("/knowledge/generator"),
    title: "Generar nuevo conocimiento",
  },
  {
    href: "/knowledge/assets",
    label: "Assets",
    classIcon: "bx bxs-intellect",
    isActive: currentPath.includes("assets"),
    title: "Gestion de assets",
  },
  {
    href: "/knowledge/files",
    label: "Archivos",
    classIcon: "bx bxs-archive",
    isActive: currentPath.includes("files"),
    title: "Gestion de archivos",
  },
  {
    href: "/knowledge/texts",
    label: "Textos",
    classIcon: "bx bxs-quote-right",
    isActive: currentPath.includes("texts"),
    title: "Gestion de textos",
  },
  {
    href: "/knowledge/chunks",
    label: "Porciones",
    classIcon: "bx bxs-cake-slice",
    isActive: currentPath.includes("chunks"),
    title: "Gestion de porciones",
  },
];

const useCasesItems: any[] = [
  {
    href: "/use-cases/chat",
    label: "Chat con IA",
    classIcon: "bx bxs-message-dots",
    isActive: currentPath.includes("chat"),
    title: "Chat con IA",
  },
  {
    href: "/use-cases/generator",
    label: "Generador de Mindmap",
    classIcon: "bx bxs-pencil-sparkles",
    isActive: currentPath.includes("/use-cases/generator"),
    title: "Generador de mindmap",
  },
  {
    href: "/use-cases/mindmaps",
    label: "Mindmaps",
    classIcon: "bx bxs-sitemap",
    isActive: currentPath.includes("mindmaps"),
    title: "Gestion de mindmaps",
  },
];
const playgroundItems: any[] = [
  {
    href: "/playground/chunker",
    label: "Chunker",
    classIcon: "bx bxs-cut",
    isActive: currentPath.includes("chunker"),
    title: "Chunker",
  },
];
---

<div
  class={sc(
    "h-screen flex flex-col gap-2 bg-slate-800/50 text-slate-200",
    "border-r border-slate-700/70 sticky top-0 overflow-y-auto min-w-[200px] max-w-[230px]"
  )}
>
  <div
    class="flex items-center text-lg font-bold p-4 sticky top-0 bg-slate-900 border-b border-slate-700/50"
  >
    <a class="text-center" href="/">
      <i class="bx bxs-layers-plus-alt mr-2 p-3 bg-slate-700/80 rounded-lg"></i>
      Klay
    </a>
  </div>

  <nav class="p-4">
    <ul class={sc("flex flex-col gap-2")}>
      <li
        class="flex items-center gap-2 text-gray-400 border-b border-gray-700 py-2 uppercase px-4 font-semibold"
      >
        <i class="bx bx-book-library"></i>Conocimiento
      </li>
      {knowledgeItems.map((item) => <SidebarItem {...item} />)}
      <li
        class="flex items-center gap-2 text-gray-400 border-b border-gray-700 py-2 uppercase px-4 font-semibold"
      >
        <i class="bx bxs-sparkles-alt"></i>Casos de Uso
      </li>
      {useCasesItems.map((item: any) => <SidebarItem {...item} />)}
      <li
        class="flex items-center gap-2 text-gray-400 border-b border-gray-700 py-2 uppercase px-4 font-semibold"
      >
        <i class="bx bxs-beach-ball"></i>Playground
      </li>
      {playgroundItems.map((item: any) => <SidebarItem {...item} />)}
    </ul>
  </nav>
</div>
